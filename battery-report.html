<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>全民防踩踏安全大挑战</title>
    <style>
        /* CSS 样式部分 - 负责活泼的画面 */
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Arial', sans-serif; overflow: hidden; background: #333; }
        
        /* 每一屏的容器 */
        .page {
            position: absolute; width: 100%; height: 100%;
            display: none; flex-direction: column; justify-content: center; align-items: center;
            padding: 20px; text-align: center; transition: all 0.5s ease;
        }
        .active { display: flex; animation: fadeIn 0.5s; }
        
        /* 配色方案 */
        .bg-yellow { background-color: #FFD700; color: #333; }
        .bg-blue { background-color: #87CEEB; color: #fff; }
        .bg-white { background-color: #f0f0f0; color: #333; }
        
        /* 元素样式 */
        h1 { font-size: 28px; margin-bottom: 20px; font-weight: 800; }
        p { font-size: 18px; margin-bottom: 30px; line-height: 1.5; }
        
        .btn {
            padding: 15px 40px; border-radius: 50px; border: none;
            font-size: 20px; font-weight: bold; cursor: pointer;
            box-shadow: 0 5px 0 rgba(0,0,0,0.2); transition: transform 0.1s;
            margin: 10px; display: inline-block;
        }
        .btn:active { transform: translateY(5px); box-shadow: none; }
        .btn-main { background: #ff5e57; color: white; }
        .btn-opt { background: #fff; color: #333; width: 80%; display: block; margin: 10px auto; }
        
        .illustration {
            width: 200px; height: 200px; background: rgba(255,255,255,0.3);
            border-radius: 20px; margin-bottom: 20px; display: flex;
            align-items: center; justify-content: center; font-size: 50px;
        }

        /* 动画关键帧 */
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes shake { 0% { transform: translateX(0); } 25% { transform: translateX(-10px); } 75% { transform: translateX(10px); } 100% { transform: translateX(0); } }
        
        /* 特殊交互元素 */
        .person { font-size: 60px; transition: all 0.3s; }
        .protect-mode { transform: scale(0.8); border: 5px solid #4CD964; border-radius: 50%; padding: 10px; background: white;}
        
        #result-box { display: none; padding: 10px; background: rgba(0,0,0,0.7); color: #fff; border-radius: 10px; position: fixed; top: 20%; width: 80%; }
    </style>
</head>
<body>

    <div class="page bg-yellow active" id="p1">
        <div class="illustration">⚠️🏃‍♂️</div>
        <h1>别挤！会变形！<br>防踩踏安全大挑战</h1>
        <button class="btn btn-main" onclick="nextPage(2)">开始挑战</button>
    </div>

    <div class="page bg-blue" id="p2">
        <h1>什么是踩踏？</h1>
        <p>当1平米内超过4个人，这就是危险信号！<br>点击屏幕感受拥挤！</p>
        <div class="illustration" id="crowd-box" onclick="addPerson()">🧍</div>
        <p id="crowd-text" style="font-size:14px; color:rgba(255,255,255,0.8)">点击上面方块加人</p>
    </div>

    <div class="page bg-white" id="p3">
        <h1>哪里最危险？</h1>
        <p>以下哪个地方最容易发生踩踏？</p>
        <button class="btn btn-opt" onclick="checkAns(false)">宽阔的草坪</button>
        <button class="btn btn-opt" onclick="checkAns(true)">狭窄的楼梯转角</button>
        <button class="btn btn-opt" onclick="checkAns(false)">家里客厅</button>
    </div>

    <div class="page bg-blue" id="p4">
        <h1>保护心脏！</h1>
        <p>点击人物，帮他做出“拳击手”护胸姿势！</p>
        <div class="illustration" style="background:none;">
            <div class="person" id="hero" onclick="doProtect()">🤦‍♂️</div>
        </div>
        <p id="p4-hint">点击他的身体！</p>
    </div>

    <div class="page bg-yellow" id="p5">
        <h1>摔倒了怎么办？</h1>
        <div class="illustration">🛌</div>
        <p>长按下面的指纹，变身刺猬保护自己！</p>
        <button class="btn btn-main" id="holdBtn">长按我蓄力</button>
    </div>

    <div class="page bg-white" id="p6">
        <h1>鞋子掉了捡不捡？</h1>
        <div class="illustration">👟</div>
        <button class="btn btn-opt" onclick="wrongShoe()">必须捡 (限量版!)</button>
        <button class="btn btn-opt" onclick="rightShoe()">保命要紧 (弃鞋!)</button>
    </div>

    <div class="page bg-blue" id="p7">
        <h1>别做推手！</h1>
        <p>前面有人摔倒，你该怎么告诉后面的人？</p>
        <button class="btn btn-main" onclick="shoutBack()">向后大喊：后退！</button>
        <div id="shout-text" style="opacity:0; margin-top:20px; font-weight:bold; font-size:24px;">BACK! 后退! ⬅️</div>
    </div>

    <div class="page bg-yellow" id="p8">
        <div class="illustration">🏆</div>
        <h1>挑战成功！</h1>
        <p>你获得了<br>【防踩踏安全卫士】称号</p>
        <button class="btn btn-main" onclick="location.reload()">再玩一次</button>
    </div>

    <div id="result-box"></div>

    <script>
        // JS 逻辑代码部分
        let crowdCount = 1;

        function nextPage(pid) {
            // 隐藏所有页面
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            // 显示目标页面
            document.getElementById('p' + pid).classList.add('active');
        }

        function showToast(msg, isGood) {
            const box = document.getElementById('result-box');
            box.style.display = 'block';
            box.innerText = msg;
            box.style.background = isGood ? 'rgba(46, 204, 113, 0.9)' : 'rgba(231, 76, 60, 0.9)';
            setTimeout(() => { box.style.display = 'none'; }, 1500);
        }

        // 第2屏交互：加人
        function addPerson() {
            crowdCount++;
            let text = "🧍".repeat(crowdCount);
            document.getElementById('crowd-box').innerText = text;
            if(crowdCount >= 4) {
                document.getElementById('crowd-box').style.background = '#ff5e57';
                showToast("危险！人群过密！", false);
                setTimeout(() => nextPage(3), 1000);
            }
        }

        // 第3屏交互：选择题
        function checkAns(isRight) {
            if(isRight) {
                showToast("回答正确！楼梯最危险！", true);
                setTimeout(() => nextPage(4), 1000);
            } else {
                showToast("错了，这里其实还算安全", false);
                document.getElementById('p3').style.animation = 'shake 0.5s';
            }
        }

        // 第4屏交互：护胸
        function doProtect() {
            const hero = document.getElementById('hero');
            hero.innerText = "🙅‍♂️"; // 变身
            hero.classList.add('protect-mode');
            showToast("护胸姿势正确！", true);
            setTimeout(() => nextPage(5), 1500);
        }

        // 第5屏交互：长按 (模拟)
        const holdBtn = document.getElementById('holdBtn');
        let timer;
        holdBtn.addEventListener('mousedown', startHold); // 电脑端
        holdBtn.addEventListener('touchstart', startHold); // 手机端
        holdBtn.addEventListener('mouseup', endHold);
        holdBtn.addEventListener('touchend', endHold);

        function startHold() {
            holdBtn.innerText = "保持住...";
            timer = setTimeout(() => {
                showToast("侧卧护颈，完美！", true);
                nextPage(6);
            }, 1000);
        }
        function endHold() {
            clearTimeout(timer);
            holdBtn.innerText = "长按我蓄力";
        }

        // 第6屏交互
        function wrongShoe() { showToast("错了！弯腰会被踩死！", false); }
        function rightShoe() { showToast("正确！生命第一！", true); setTimeout(() => nextPage(7), 1000); }

        // 第7屏交互
        function shoutBack() {
            document.getElementById('shout-text').style.opacity = 1;
            showToast("信息传递成功！", true);
            setTimeout(() => nextPage(8), 1500);
        }
    </script>
</body>
</html>